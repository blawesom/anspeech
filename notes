files=$(find . -name "$pattern" -type f | sort -rn | head -n 1)

#segment de 15min:
ffmpeg -i http://assemblee-nationale.akamaized.net/live/live36/stream36.m3u8 -c copy -bsf:a aac_adtstoasc -f segment -segment_time $ an-$(date +"%d-%m-%Y")_%d.mkv

ffmpeg -i anfile.mkv -map 0:1 -c copy anfile.m4a

source venv/bin/activate

whisper an-09-04-2024.m4a --model medium --language fr --output_format txt

# benchmarks

CONF 3080 10G
\\perf transcribe large model: 10min22 pour 16min09 de flux
\\perf transcribe medium model: 3min22 pour 16min09 de flux
\\perf transcribe small model:  1min57 pour 16min09 de flux

CONF 3090 24G
\\perf transcribe large model: 4min55 pour 16min09 de flux
\\perf transcribe medium model: 2min30 pour 16min09 de flux
\\perf transcribe small model: 

CONF A100 40G
\\perf transcribe large model: 4min45 pour 16min09 de flux
\\perf transcribe medium model: 2min28 pour 16min09 de flux
\\perf transcribe small model:  1min37 pour 16min09 de flux

diff -y medium large
